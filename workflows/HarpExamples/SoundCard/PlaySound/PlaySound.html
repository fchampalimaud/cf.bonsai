<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Play Sound | CF.Bonsai </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Play Sound | CF.Bonsai ">
      
      
      <link rel="icon" href="../../../../images/logo.svg">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="">
      <meta name="docfx:tocrel" content="../../../../articles/toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/fchampalimaud/cf.bonsai/blob/main/docs/workflows/HarpExamples/SoundCard/PlaySound/PlaySound.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../images/logo_white.svg" alt="CF.Bonsai">
            CF.Bonsai
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="play-sound">Play Sound</h1>

<h2 id="summary">Summary</h2>
<p>This example demonstrates how to play a .wav file using the <a href="https://harp-tech.org/api/Harp.SoundCard.html">Harp SoundCard</a> board (see hardware schematics below).</p>
<h2 id="workflow">Workflow</h2>
<div class="workflow"><p><img src="PlaySound.bonsai" alt="Example"></p>
</div>
<h2 id="details">Details</h2>
<p>The Harp SoundCard board allows the user to upload wav files using its graphical user interface (see details <a href="#uploading-sounds-to-the-harp-soundcard">here</a>). Each file is linked to an index (2-31), which can be played by the sound card.</p>
<ol>
<li>Establishes the commands to be sent to the SoundCard board. The PortName property in the Behavior node needs to be set to the COM device on the computer. To create the subject node, right-click on the SoundCard node -&gt; Create Source -&gt; Behavior Subject, and name it accordingly.</li>
<li>Plays the sound stored at index 4, when 'A' is pressed. *</li>
<li>Plays the sound stored at index 5, when 'S' is pressed. **</li>
<li>Ensures that command messages are sent only when the device is ready.</li>
</ol>
<p>* The example file loaded in index 4 can be found here <br>
** The example file loaded in index 5 can be found here</p>
<h2 id="requirements">Requirements</h2>
<p>This example requires the following Bonsai packages:</p>
<ul>
<li>Harp - SoundCard (from nuget.org)</li>
</ul>
<p>Additionally, install the <a href="https://github.com/harp-tech/device.soundcard">Harp SoundCard</a> GUI in order to upload sounds to the SoundCard.</p>
<h2 id="schematics">Schematics</h2>
<p>The <a href="https://harp-tech.org/api/Harp.SoundCard.html">Harp SoundCard</a> board has 2 RCA ports (one for the left channel and the other for the right one) which allow the device to connect to a <a href="https://github.com/harp-tech/peripheral.audioamp">Harp Audio Amplifier</a> on each side which, in turn, connect to a speaker.</p>
<p><img src="./PlaySoundSch.svg" width="65%" alt="Schematics"></p>
<h2 id="uploading-sounds-to-the-harp-soundcard">Uploading sounds to the Harp SoundCard</h2>
<ol>
<li>Install the <a href="https://github.com/harp-tech/device.soundcard">Harp SoundCard</a> GUI.</li>
<li>Open the GUI. Then click on <code>Launch</code>.</li>
<li>It is possible to generate pure tones and white noises or to load sounds from .wav or binary files. Either way, after tweaking with the configurations according to one's needs, click on the correct <code>Generate</code> button (for a sound loaded from a .wav - or binary - file, the button is names <code>Load and Generate</code>). The sound will be plotted in the figure at the bottom of the GUI.</li>
<li>In the <code>Interface with the Sound Card</code> frame of the GUI, select the index (between 2 and 31) where the sound will be uploaded to in the device's memory. Then click on <code>Create files and send to device</code>.</li>
<li><em>Optional:</em> To play the sound, select the device's COM port and sound index in the bottom right corner of the GUI (above the plot) and hit the <code>Play</code> button.</li>
<li><em>Mandatory:</em> Party as hell to your recently uploaded sound! :D</li>
</ol>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/fchampalimaud/cf.bonsai/blob/main/docs/workflows/HarpExamples/SoundCard/PlaySound/PlaySound.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>&copy; 2024 Champalimaud Foundation and Contributors</span> -<span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
